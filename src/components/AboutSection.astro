---
// src/components/AboutSection.astro
import AboutImage from "./AboutImage.astro";
import AboutText from "./AboutText.astro";

interface Props {
    // Configuración de imagen
    imageSrc?: string;
    imageAlt?: string;
    imagePosition?: "left" | "right";
    showImageOverlay?: boolean;

    // Configuración de texto
    title?: string;
    subtitle?: string;
    highlightColor?: "sky" | "celeste";

    // Layout
    className?: string;
    reverseOnMobile?: boolean;
}

const {
    imageSrc = "/src/assets/img/NosotrosImagen.jpg",
    imageAlt = "Equipo DIVCAL",
    imagePosition = "right",
    showImageOverlay = true,
    title = "Conoce DIVCAL",
    subtitle = "Quiénes Somos",
    highlightColor = "sky",
    className = "",
    reverseOnMobile = false,
} = Astro.props;

const imageOrder = imagePosition === "left" ? "lg:order-1" : "lg:order-2";
const textOrder = imagePosition === "left" ? "lg:order-2" : "lg:order-1";
const mobileOrder = reverseOnMobile
    ? "order-2 lg:order-1"
    : "order-1 lg:order-2";
---

<section id="nosotros"
    class={`min-h-screen w-full flex items-center justify-center py-12 lg:py-0 ${className}`}
>
    <div class="relative w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div
            class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 xl:gap-20 items-center"
        >
            <!-- Sección de Imagen (SIN fondo transparente) -->
            <div class={`${mobileOrder} ${imageOrder} mt-8 lg:mt-0`}>
                <AboutImage
                    src={imageSrc}
                    alt={imageAlt}
                    showOverlay={showImageOverlay}
                />
            </div>

            <!-- Sección de Texto (CON fondo transparente) -->
            <div
                class={`${reverseOnMobile ? "order-1" : "order-2"} ${textOrder}`}
            >
                <div class="relative">
                    <!-- Fondo transparente solo alrededor del texto -->
                    <div
                        class="absolute -inset-4 lg:-inset-6 bg-white/30 backdrop-blur-md rounded-[2rem] lg:rounded-[3rem] -z-10"
                    >
                    </div>

                    <!-- Elementos decorativos (opcionales) -->
                    <div
                        class="absolute -top-4 -left-4 w-24 h-24 bg-white/30 rounded-full blur-xl -z-10"
                    >
                    </div>
                    <div
                        class="absolute -bottom-4 -right-4 w-32 h-32 bg-white/30 rounded-full blur-xl -z-10"
                    >
                    </div>

                    <!-- Contenido del texto -->
                    <div class="relative p-6 lg:p-10 xl:p-12">
                        <AboutText
                            subtitle={subtitle}
                            highlightColor={highlightColor}
                        >
                            <!-- Título personalizado con span -->
                            <h2
                                slot="title"
                                class="text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold text-gray-900 leading-tight"
                            >
                                Conoce <span class="text-cyan-500">DIVCAL</span>
                            </h2>

                            <!-- Contenido por defecto -->
                            <div slot="content">
                                <p
                                    class="text-base sm:text-lg lg:text-xl leading-relaxed text-black"
                                >
                                    En <span class="font-semibold text-black"
                                        >DIVCAL PE</span
                                    > nos especializamos en soluciones
                                    <span class="font-medium text-gray-900">
                                        BPO de Contact Center Omnicanal</span
                                    >, ofreciendo servicios personalizados que
                                    optimizan la comunicación entre empresas y
                                    sus clientes.
                                </p>

                                <p
                                    class="text-base sm:text-lg lg:text-xl leading-relaxed text-black"
                                >
                                    Trabajamos mano a mano con empresas de
                                    diversos sectores para transformar sus
                                    operaciones de atención al cliente en
                                    experiencias excepcionales que generan valor
                                    sostenible.
                                </p>
                            </div>

                            <!-- Cita destacada SIN comillas -->
                            <p slot="highlight" class="text-[#32b4c1]">
                                Transformamos desafíos operativos en ventajas
                                competitivas sostenibles
                            </p>
                        </AboutText>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    @keyframes float {
        0%,
        100% {
            transform: translateY(0px);
        }
        50% {
            transform: translateY(-15px);
        }
    }

    .group:hover .absolute.-inset-4 {
        animation: float 3s ease-in-out infinite;
    }

    @media (max-width: 640px) {
        .rounded-2xl {
            border-radius: 1rem;
        }
    }
</style>