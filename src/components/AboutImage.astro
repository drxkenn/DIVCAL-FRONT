---
// src/components/AboutImage.astro
interface Props {
  src: string;
  alt: string;
  className?: string;
  showOverlay?: boolean;
  showDecoration?: boolean;
}

const { 
  src, 
  alt, 
  className = "", 
  showOverlay = true,
  showDecoration = true 
} = Astro.props;
---

<div class={`relative group ${className}`}>
  <!-- Marco decorativo externo (condicional) -->
  {showDecoration && (
    <div class="absolute -inset-4 bg-gradient-to-r from-celeste-400 to-celeste-300 rounded-3xl opacity-20 blur-lg group-hover:opacity-30 transition-opacity duration-500"></div>
  )}
  
  <!-- Contenedor principal de la imagen -->
  <div class={`relative overflow-hidden rounded-2xl shadow-2xl ${!showDecoration ? 'border border-celeste-100' : ''}`}>
    
    <!-- Efecto de superposición de color -->
    {showOverlay && (
      <div class="absolute inset-0 bg-gradient-to-tr from-celeste-500/20 to-celeste-300/10 mix-blend-overlay z-10 group-hover:opacity-0 transition-opacity duration-500"></div>
    )}
    
    <!-- Imagen principal -->
    <img 
      src={src} 
      alt={alt}
      class="w-full h-auto object-cover transform group-hover:scale-110 transition-all duration-700"
      loading="lazy"
    />
    
    <!-- Overlay de información (aparece al hover, condicional) -->
    {showOverlay && (
      <div class="absolute inset-0 bg-gradient-to-t from-celeste-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-end p-6 z-20">
        <div class="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center">
              <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
              </svg>
            </div>
            <span class="text-white font-semibold text-lg">Nuestro Equipo</span>
          </div>
          <p class="text-celeste-100 text-sm">Profesionales dedicados a la excelencia operativa</p>
        </div>
      </div>
    )}
    
    <!-- Indicador de zoom (condicional) -->
    {showOverlay && (
      <div class="absolute top-4 right-4 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-90 group-hover:scale-100 transition-all duration-500 z-20">
        <svg class="w-5 h-5 text-celeste-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"></path>
        </svg>
      </div>
    )}
    
    <!-- Borde animado -->
    <div class="absolute inset-0 border-2 border-transparent group-hover:border-celeste-300/50 rounded-2xl transition-all duration-500"></div>
  </div>
  
  <!-- Elementos decorativos flotantes (condicional) -->
  {showDecoration && (
    <>
      <div class="absolute -bottom-2 -left-2 w-6 h-6 bg-celeste-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-700 delay-100"></div>
      <div class="absolute -top-2 -right-2 w-4 h-4 bg-celeste-300 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-700 delay-300"></div>
    </>
  )}
</div>

<style>
  /* Animación para los elementos decorativos */
  @keyframes pulse-glow {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
  }
  
  .group:hover .absolute.-inset-4 {
    animation: pulse-glow 2s ease-in-out infinite;
  }
</style>