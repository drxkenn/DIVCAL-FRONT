---
// src/components/AboutText.astro
type ColorTheme = "sky" | "celeste";

interface Props {
  title?: string;
  subtitle?: string;
  className?: string;
  highlightColor?: ColorTheme;
  showDivider?: boolean;
  showQuote?: boolean;
}

const { 
  title = "Sobre Nosotros",
  subtitle = "Quiénes Somos",
  className = "",
  highlightColor = "sky",
  showDivider = true,
  showQuote = true
} = Astro.props;

// Definir temas de color - USANDO LA MISMA VARIANTE PARA BARRAS Y TEXTO
const themes = {
  sky: {
    text: "text-sky-500", // Cambiado de 600 a 500
    bg: "bg-sky-500",
    border: "border-sky-300",
    quote: "text-sky-700"
  },
  celeste: {
    text: "text-celeste-500", // Cambiado de 600 a 500
    bg: "bg-celeste-500",
    border: "border-celeste-300",
    quote: "text-celeste-700"
  }
} as const;

const colors = themes[highlightColor];
---

<div class={`space-y-6 lg:space-y-8 ${className}`}>
  <!-- Subtítulo con barras decorativas - CENTRADO Y MEJORADO -->
  {showDivider && (
    <div class="mb-6 lg:mb-12">
      <div class="flex items-center justify-center gap-3 sm:gap-4 mb-4">
        <!-- Primera barra -->
        <div class={`w-12 sm:w-16 lg:w-24 h-1.5 rounded-full bg-cyan-500`}></div>
        
        <!-- Subtítulo con EXACTAMENTE el mismo color que las barras -->
        <span class="font-bold uppercase tracking-widest text-base sm:text-lg lg:text-xl xl:text-2xl text-center text-cyan-500" style="letter-spacing: 0.2em;">
          {subtitle}
        </span>
        
        <!-- Segunda barra -->
        <div class={`w-12 sm:w-16 lg:w-24 h-1.5 rounded-full bg-cyan-500`}></div>
      </div>
    </div>
  )}

  <!-- Título principal -->
  {title && (
    <div class="mb-4 lg:mb-6">
      <h2 class="text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold text-gray-900 leading-tight">
        <slot name="title">
          {title}
        </slot>
      </h2>
    </div>
  )}

  <!-- Contenido principal -->
  <div class="space-y-4 lg:space-y-6">
    <slot name="content" />
    
    <!-- Contenido de párrafos por defecto -->
    <div class="space-y-4">
      <slot />
    </div>
  </div>

  <!-- Slot para quote personalizado o diseño por defecto -->
  <slot name="quote">
    <!-- Si showQuote es true, mostrar el diseño de cita por defecto -->
    {showQuote && (
      <div class="relative mt-8 lg:mt-10 pt-6 border-t ${colors.border}">
        <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
          <div class={`w-6 h-6 bg-cyan-500 rounded-full flex items-center justify-center`}>
            <div class="w-3 h-3 bg-white rounded-full"></div>
          </div>
        </div>
        
        <blockquote class="flex justify-center gap-2 mx-auto w-fit max-w-3xl">
          <div class="text-4xl opacity-50 text-cyan-700 leading-none -mt-2">"</div>
          
          <div class={`text-lg sm:text-xl lg:text-2xl font-medium leading-relaxed italic text-center ${colors.quote}`}>
            <slot name="highlight">
              Texto destacado por defecto
            </slot>
          </div>
          
          <div class="text-4xl opacity-50 text-cyan-700 leading-none self-end -mb-2">"</div>
        </blockquote>
      </div>
    )}
  </slot>
</div>